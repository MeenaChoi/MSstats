<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Visualization for sample size calculation — designSampleSizePlots • MSstatsdev</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Visualization for sample size calculation — designSampleSizePlots" />
<meta property="og:description" content="To illustrate the relationship of desired fold change and the calculated 
minimal number sample size which are (1) number of biological replicates per condition, 
(2) number of peptides per protein, 
(3) number of transitions per peptide, and 
(4) power. The input is the result from function (designSampleSize." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MSstatsdev</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.23.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/MSstats.html">UNKNOWN TITLE</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Visualization for sample size calculation</h1>
    
    <div class="hidden name"><code>designSampleSizePlots.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>To illustrate the relationship of desired fold change and the calculated 
minimal number sample size which are (1) number of biological replicates per condition, 
(2) number of peptides per protein, 
(3) number of transitions per peptide, and 
(4) power. The input is the result from function (<code><a href='designSampleSize.html'>designSampleSize</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>designSampleSizePlots</span>(<span class='no'>data</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>output from function designSampleSize.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Plot for estimated sample size with assigned variable.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Data in the example is based on the results of sample size calculation from function <code><a href='designSampleSize.html'>designSampleSize</a></code></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Based on the results of sample size calculation from function designSampleSize,</span>
<span class='co'># we generate a series of sample size plots for number of biological replicates, or peptides, </span>
<span class='co'># or transitions or power plot.</span>
<span class='no'>QuantData</span><span class='kw'>&lt;-</span><span class='fu'><a href='dataProcess.html'>dataProcess</a></span>(<span class='no'>SRMRawData</span>)</div><div class='output co'>#&gt; INFO  [2021-05-14 23:04:00] ** Features with one or two measurements across runs are removed.
#&gt; INFO  [2021-05-14 23:04:00] ** Fractionation handled.
#&gt; INFO  [2021-05-14 23:04:00] ** Updated quantification data to make balanced design. Missing values are marked by NA
#&gt; INFO  [2021-05-14 23:04:00] ** Log2 intensities under cutoff = 3.776  were considered as censored missing values.
#&gt; INFO  [2021-05-14 23:04:00] ** Log2 intensities = NA were considered as censored missing values.
#&gt; INFO  [2021-05-14 23:04:00] ** Use all features that the dataset originally has.
#&gt; INFO  [2021-05-14 23:04:00] 
#&gt;  # proteins: 2
#&gt;  # peptides per protein: 2-2
#&gt;  # features per peptide: 3-3
#&gt; INFO  [2021-05-14 23:04:00] 
#&gt;                     1 2 3 4 5 6 7 8 9 10
#&gt;              # runs 3 3 3 3 3 3 3 3 3  3
#&gt;     # bioreplicates 3 3 3 3 3 3 3 3 3  3
#&gt;  # tech. replicates 1 1 1 1 1 1 1 1 1  1
#&gt; INFO  [2021-05-14 23:04:00]  == Start the summarization per subplot...
#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
#&gt; INFO  [2021-05-14 23:04:00]  == Summarization is done.</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>(<span class='no'>QuantData</span>$<span class='no'>ProcessedData</span>)</div><div class='output co'>#&gt; NULL</div><div class='input'><span class='co'>## based on multiple comparisons  (T1 vs T3; T1 vs T7; T1 vs T9)</span>
<span class='no'>comparison1</span><span class='kw'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>1</span>,<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>),<span class='kw'>nrow</span><span class='kw'>=</span><span class='fl'>1</span>)
<span class='no'>comparison2</span><span class='kw'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>1</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>),<span class='kw'>nrow</span><span class='kw'>=</span><span class='fl'>1</span>)
<span class='no'>comparison3</span><span class='kw'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(-<span class='fl'>1</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>0</span>),<span class='kw'>nrow</span><span class='kw'>=</span><span class='fl'>1</span>)
<span class='no'>comparison</span><span class='kw'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span>(<span class='no'>comparison1</span>,<span class='no'>comparison2</span>, <span class='no'>comparison3</span>)
<span class='fu'><a href='https://rdrr.io/r/base/row.names.html'>row.names</a></span>(<span class='no'>comparison</span>)<span class='kw'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"T3-T1"</span>,<span class='st'>"T7-T1"</span>,<span class='st'>"T9-T1"</span>)
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span>(<span class='no'>comparison</span>)<span class='kw'>&lt;-</span><span class='fu'><a href='https://rdrr.io/r/base/unique.html'>unique</a></span>(<span class='no'>QuantData</span>$<span class='no'>ProteinLevelData</span>$<span class='no'>GROUP</span>)

<span class='no'>testResultMultiComparisons</span><span class='kw'>&lt;-</span><span class='fu'><a href='groupComparison.html'>groupComparison</a></span>(<span class='kw'>contrast.matrix</span><span class='kw'>=</span><span class='no'>comparison</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>QuantData</span>)</div><div class='output co'>#&gt; INFO  [2021-05-14 23:04:00]  == Start to test and get inference in whole plot ...
#&gt;   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%
#&gt; INFO  [2021-05-14 23:04:01]  == Comparisons for all proteins are done.</div><div class='input'>
<span class='co'># plot the calculated sample sizes for future experiments:</span>
<span class='co'># (1) Minimal number of biological replicates per condition</span>
<span class='no'>result.sample</span><span class='kw'>&lt;-</span><span class='fu'><a href='designSampleSize.html'>designSampleSize</a></span>(<span class='kw'>data</span><span class='kw'>=</span><span class='no'>testResultMultiComparisons</span>$<span class='no'>FittedModel</span>, <span class='kw'>numSample</span><span class='kw'>=</span><span class='fl'>TRUE</span>,
                                <span class='kw'>desiredFC</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1.25</span>,<span class='fl'>1.75</span>), <span class='kw'>FDR</span><span class='kw'>=</span><span class='fl'>0.05</span>, <span class='kw'>power</span><span class='kw'>=</span><span class='fl'>0.8</span>)</div><div class='output co'>#&gt; <span class='error'>Error in is.(fit, "lmerMod"): nie udało się znaleźć funkcji 'is.'</span></div><div class='input'><span class='fu'>designSampleSizePlots</span>(<span class='kw'>data</span><span class='kw'>=</span><span class='no'>result.sample</span>)</div><div class='output co'>#&gt; <span class='error'>Error in unique(data$numSample): nie znaleziono obiektu 'result.sample'</span></div><div class='input'><span class='co'># (2) Power</span>
<span class='no'>result.power</span><span class='kw'>&lt;-</span><span class='fu'><a href='designSampleSize.html'>designSampleSize</a></span>(<span class='kw'>data</span><span class='kw'>=</span><span class='no'>testResultMultiComparisons</span>$<span class='no'>FittedModel</span>, <span class='kw'>numSample</span><span class='kw'>=</span><span class='fl'>2</span>,
                               <span class='kw'>desiredFC</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1.25</span>,<span class='fl'>1.75</span>), <span class='kw'>FDR</span><span class='kw'>=</span><span class='fl'>0.05</span>, <span class='kw'>power</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; <span class='error'>Error in is.(fit, "lmerMod"): nie udało się znaleźć funkcji 'is.'</span></div><div class='input'><span class='fu'>designSampleSizePlots</span>(<span class='kw'>data</span><span class='kw'>=</span><span class='no'>result.power</span>)</div><div class='output co'>#&gt; <span class='error'>Error in unique(data$numSample): nie znaleziono obiektu 'result.power'</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Meena Choi, Ching-Yun Chang, Olga Vitek.</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Meena Choi, Mateusz Staniak, Tsung-Heng Tsai, Ting Huang, Olga Vitek.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


